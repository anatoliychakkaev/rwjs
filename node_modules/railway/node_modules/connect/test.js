
/**
 * Module dependencies.
 */

var connect = require('./')
  , utils = connect.utils
  , http = require('http')
  , fs = require('fs');


connect()
  .use(connect.cookieParser())
  .use(connect.session({ secret: 'hey' }))
  .use(function(req, res, next){
    if ('/foo' == req.url) {
      req.session.foo = 'bar';
    }
    res.end('hello\n')
  })
  .listen(3000)

// Connect: 2296
// Connect+LRU: 4900
// node-static: 3865

// ab -n 5000 -c 50 -k http://local/Readme.md

// 472k
// node-static: 1651rps
// connect: 581rps

// var static = require('node-static')
//   , file = new static.Server(__dirname);
// 
// var send = connect.static(__dirname);
// http.createServer(function(req, res){
//   file.serve(req, res);
// }).listen(3000);